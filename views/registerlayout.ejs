<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Cancer App</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  
  

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="assets/css/newregister.css" rel="stylesheet">
  
  
</head>

<body>

  

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      
      <h1 class="logo me-auto"><a href="index.html">Cancer App</a></h1>

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a class="nav-link scrollto " href="/">Home</a></li>
          <li><a class="nav-link scrollto" href="#about">About</a></li>
          <li><a class="nav-link scrollto" href="/cervicalcancer">Cervical cancer</a></li>
          <li><a class="nav-link scrollto" href="/breastcancer">Breast cancer</a></li>
          <li><a class="nav-link scrollto" href="/prostatecancer">Prostate cancer</a></li>
          <li><a class="nav-link scrollto" href="/throatcancer">Throat cancer</a></li>
          
          
         
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
      
      

    

      

      <!-- <a href="/login" class="appointment-btn scrollto"><span class="d-none d-md-inline">login</a> -->
      <a href="/register" class="appointment-btn scrollto"><span class="d-none d-md-inline">Contact a specialist</a>

        
              
          </form>
      </div>


    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero">
    <div id="heroCarousel" data-bs-interval="5000" class="carousel slide carousel-fade" data-bs-ride="carousel">

      <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

      <div class="carousel-inner" role="listbox">

        <!-- Slide 1 -->
                                                
        <div class="carousel-item active" style="background-image: linear-gradient(rgba(10, 10, 10, 0.7),rgba(12, 12, 12, 0.7)),url(assets/img/cancerimage.webp)">
          
            <div class="wrapper">
              <div class="title">
                 Sign Up
              </div>
              <form name="registerForm">
                 <div class="error" style="background-color: red;"></div><br>
                 <div class="field">
                    <input type="text" id="username" name="username" >
                    <label for="username">Username</label>
                    <!-- <p>username_info.warnP</p> -->
                 </div>
                 <div class="field">
                    <input type="password" id="password" name="password"  >
                    <label for="password">Password</label>
                    <!-- <p>password1_info.warnP</p> -->
                 </div>
                 
                 <div class="field">
                    <input type="submit" value="register" id="submit">
                 </div>
                 <div class="signup-link">
                    Already registered? <a href="/login">Login Here</a>
                 </div>
              </form>
           </div>
            <!-- <a href="/aboutUs.html" class="btn-get-started scrollto">Read More</a> -->
         
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item" style="background-image:  linear-gradient(rgba(10, 10, 10, 0.7),rgba(12, 12, 12, 0.7)),url(assets/img/slide/slide-2.jpg)">
          <div class="wrapper">
            <div class="title">
               Sign Up
            </div>
            <form>
               <div class="error" style="background-color: red;"></div><br>
               <div class="field">
                  <input type="text" id="username" required>
                  <label for="username">Username</label>
                  <p>username_info.warnP</p>
               </div>
               <div class="field">
                  <input type="password" id="password" required>
                  <label for="password">Password</label>
                  <p>password1_info.warnP</p>
               </div>
               
               <div class="field">
                  <input type="submit" value="register" id="submit">
               </div>
               <div class="signup-link" style="padding-bottom: 50px; ">
                  Already registered? <a href="/login">Login Here</a>
               </div>
            </form>
            
         </div>
        </div>
        <div class="separator" style="margin-bottom: 100px;"></div>

        <!-- Slide 3 -->
        <div class="carousel-item" style="background-image: linear-gradient(rgba(10, 10, 10, 0.7),rgba(12, 12, 12, 0.7)),url(assets/cancerimages/heroimages/images1.jpg)">
          <div class="wrapper">
            <div class="title">
               Sign Up
            </div>
            <form>
               <div class="error" style="background-color: red;"></div><br>
               <div class="field">
                  <input type="text" id="username" required>
                  <label for="username">Username</label>
               </div>
               <div class="field">
                  <input type="password" id="password" required>
                  <label for="password">Password</label>
               </div>
               
               <div class="field">
                  <input type="submit" value="register" id="submit">
               </div>
               <div class="signup-link">
                  Already registered? <a href="/login">Login Here</a>
               </div>
            </form>
         </div>
        </div>

      </div>

      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
      </a>

      <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
      </a>

    </div>
  </section><!-- End Hero -->
  
  


    

  </main><!-- End #main -->

   <!-- ======= Footer ======= -->


  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script> -->
	   
	     <!-----tweenmax.min.js cdn--------->
         <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="/assets/js/register.js"></script>
  <script>
    const form = document.querySelector('form')
    const username = document.querySelector('#username')
    const password = document.querySelector('#password')
    const display = document.querySelector('.error')


 






     form.addEventListener('submit', async (e) => {
        e.preventDefault()
        display.textContent = ''
        try {
          const res = await fetch('/api/auth/register', {
            method: 'POST',
            body: JSON.stringify({ username: username.value, password: password.value }),
            headers: { 'Content-Type': 'application/json' }
          })
          const data = await res.json()
          if(res.status === 400 || res.status === 401){
           return display.textContent = `${data.message}. ${data.error ? data.error : ''}`
          }
          data.role === "specialist" ? location.assign('/login') : location.assign('/login') 
          
        } catch (err) {
          console.log(err.message)
        }

      })





  </script>

</body>

</html>